<template>
  <div
    class="bg-black rounded-[3.3rem] border-[6px] p-8 w-[320px] h-[320px] flex flex-col justify-between relative overflow-hidden"
  >
    <div class="flex items-center gap-2 z-10">
      <svg class="w-10 h-10" viewBox="0 0 98 98" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M48.7734 97.7086C42.153 97.7086 35.9229 96.4439 30.0831 93.9144C24.2434 91.4161 19.0907 87.9341 14.625 83.4684C10.1906 79.0028 6.70862 73.8501 4.17911 68.0103C1.6496 62.1706 0.38485 55.9405 0.38485 49.3201C0.38485 42.6996 1.6496 36.4695 4.17911 30.6298C6.70862 24.7901 10.1906 19.653 14.625 15.2186C19.0907 10.7529 24.2278 7.25529 30.0363 4.72578C35.876 2.19628 42.1061 0.931521 48.7266 0.931521C55.3782 0.931521 61.6239 2.19628 67.4637 4.72578C73.3034 7.25529 78.4561 10.7529 82.9218 15.2186C87.3874 19.653 90.885 24.7901 93.4145 30.6298C95.944 36.4695 97.2088 42.6996 97.2088 49.3201C97.2088 55.9405 95.944 62.1706 93.4145 68.0103C90.885 73.8501 87.3874 79.0028 82.9218 83.4684C78.4561 87.9341 73.3034 91.4161 67.4637 93.9144C61.6239 96.4439 55.3938 97.7086 48.7734 97.7086ZM27.9752 75.4115H63.0604C63.7162 75.4115 64.2627 75.1773 64.6999 74.7088C65.1684 74.2404 65.4026 73.6939 65.4026 73.0693C65.4026 72.5072 65.1684 72.0076 64.6999 71.5704C64.2627 71.1332 63.7162 70.9146 63.0604 70.9146H62.2641V64.9655H69.1968C71.1955 64.9655 72.71 64.4503 73.7406 63.4197C74.8023 62.358 75.3332 60.8278 75.3332 58.8291V34.4709C75.3332 33.659 75.2083 32.9251 74.9585 32.2693C74.7399 31.5823 74.4432 30.9265 74.0685 30.3019L70.7895 24.915C70.3211 24.1655 69.7277 23.8376 69.0095 23.9313C68.3224 24.025 67.7759 24.3685 67.37 24.9618C66.964 25.524 66.9952 26.1954 67.4637 26.9761L70.7895 32.3162L67.2763 37.1878C66.0896 38.8117 66.1677 40.4043 67.5105 41.9658L71.3984 46.5095V58.8291C71.3984 60.2657 70.6646 60.9839 69.1968 60.9839H62.2641V27.6319C62.2641 23.5097 60.203 21.4486 56.0809 21.4486H35.0016C33.003 21.4486 31.4728 21.9795 30.411 23.0413C29.3805 24.1031 28.8652 25.6333 28.8652 27.6319V70.9146H27.9752C27.3507 70.9146 26.8042 71.1332 26.3357 71.5704C25.8985 72.0076 25.6799 72.5072 25.6799 73.0693C25.6799 73.6939 25.8985 74.2404 26.3357 74.7088C26.8042 75.1773 27.3507 75.4115 27.9752 75.4115ZM35.3295 45.5258V30.3956C35.3295 28.8342 36.1883 28.0535 37.9059 28.0535H53.2235C54.941 28.0535 55.7998 28.8342 55.7998 30.3956V45.5258C55.7998 47.0872 54.941 47.8679 53.2235 47.8679H37.9059C36.1883 47.8679 35.3295 47.0872 35.3295 45.5258Z"
          fill="white"
        />
      </svg>

      <div class="flex flex-col">
        <div class="text-white text-xl">Pump 3</div>
        <div class="text-white/40 text-xl -mt-0.5">Filling in progress</div>
      </div>
    </div>
    <div class="flex flex-col justify-center items-center gap-8 z-10 text-xl text-white">
      <div class="">6.2 gal Â· 23.5 L</div>
      <div class=""><span class="text-white/60">Filling:</span> Until full</div>
    </div>

    <!-- Wave Animation Background -->
    <div
      class="text-white absolute bottom-0 left-0 right-0 z-10 flex justify-center items-center h-full flex-col"
    >
      <span class="font-bold leading-none text-[4rem]"> 50% </span>
    </div>
    <div
      class="absolute bottom-0 left-0 right-0 transition-all duration-1000 ease-in-out flex flex-col"
      :style="{ height: '50%' }"
    >
      <div class="-mt-12 w-full">
        <svg
          width="100%"
          height="100%"
          id="svg"
          viewBox="0 0 1440 590"
          xmlns="http://www.w3.org/2000/svg"
          class="transition duration-300 ease-in-out delay-150"
        >
          <path
            d="M 0,600 L 0,225 C 84.04358974358976,210.68461538461537 168.08717948717953,196.36923076923077 241,185 C 313.9128205128205,173.63076923076923 375.6948717948717,165.20769230769233 469,192 C 562.3051282051283,218.79230769230767 687.1333333333336,280.8 760,276 C 832.8666666666664,271.2 853.7717948717948,199.5923076923077 922,210 C 990.2282051282052,220.4076923076923 1105.7794871794872,312.83076923076925 1200,329 C 1294.2205128205128,345.16923076923075 1367.1102564102564,285.0846153846154 1440,225 L 1440,600 L 0,600 Z"
            stroke="none"
            stroke-width="0"
            fill="#8ed1fc"
            fill-opacity="1"
            class="transition-all duration-300 ease-in-out delay-150 path-0 fill-[#00C7BE]"
          ></path>
        </svg>
      </div>
      <div class="bg-[#00C7BE] flex-grow"></div>
    </div>
  </div>
</template>

<script lang="ts" setup>
// Add any reactive logic here if needed
</script>

<style>
.path-0 {
  animation: pathAnim-0 2s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

@keyframes pathAnim-0 {
  0% {
    d: path(
      'M 0,600 L 0,225 C 84.04358974358976,210.68461538461537 168.08717948717953,196.36923076923077 241,185 C 313.9128205128205,173.63076923076923 375.6948717948717,165.20769230769233 469,192 C 562.3051282051283,218.79230769230767 687.1333333333336,280.8 760,276 C 832.8666666666664,271.2 853.7717948717948,199.5923076923077 922,210 C 990.2282051282052,220.4076923076923 1105.7794871794872,312.83076923076925 1200,329 C 1294.2205128205128,345.16923076923075 1367.1102564102564,285.0846153846154 1440,225 L 1440,600 L 0,600 Z'
    );
  }
  25% {
    d: path(
      'M 0,600 L 0,225 C 88.78717948717946,290.7358974358974 177.57435897435892,356.4717948717949 252,330 C 326.4256410256411,303.5282051282051 386.4897435897436,184.84871794871796 459,166 C 531.5102564102564,147.15128205128204 616.4666666666666,228.13333333333327 694,268 C 771.5333333333334,307.86666666666673 841.6435897435897,306.61794871794876 935,279 C 1028.3564102564103,251.38205128205124 1144.9589743589743,197.3948717948718 1233,184 C 1321.0410256410257,170.6051282051282 1380.520512820513,197.8025641025641 1440,225 L 1440,600 L 0,600 Z'
    );
  }
}
</style>
